
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Breadfast - Food Aggregation KB</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      height: 100%;
      font-family: 'Inter', sans-serif;
      background-image: url('back.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: #111;
    }

    .app {
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 20px;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
      height: 100%;
      max-height: 100vh;
    }

    .sidebar {
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 18px;
      box-shadow: 0 6px 18px rgba(22,27,40,0.06);
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }

    .logo { display: flex; align-items: center; gap: 12px; flex-shrink: 0;}
    .logo img { width: 48px; height: 48px; border-radius: 8px; }
    .brand { font-weight: 700; font-size: 18px; color: #d6007d; }
    .tagline { font-family: 'Poppins', sans-serif; font-size: 14px; color: #000; margin-top: 4px; }

    .sidebar-search {
      margin: 14px 0;
      flex-shrink: 0;
    }
    .sidebar-search input {
      width: 100%;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .section-title {
      font-weight: 700; margin: 10px 0; color: #243244;
      cursor: pointer; display: flex; justify-content: space-between; align-items: center;
    }
    .section-title .arrow { transition: transform 0.3s ease-in-out; }

    .categories, .complaints, .numbers, .processes {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease-in-out, padding 0.3s ease-in-out;
      padding-left: 0;
    }
    .categories.open, .complaints.open, .numbers.open, .processes.open { padding-left: 5px; }

    .cat, .comp, .num, .proc {
      padding: 8px 10px; border-radius: 8px; cursor: pointer;
      border: 1px solid transparent; transition: 0.2s;
    }
    .cat:hover, .comp:hover, .num:hover, .proc:hover { background:#f9f1f7; }
    .cat.active, .comp.active, .num.active, .proc.active { background:#fbe8f3; border-color:#f3cce1; }

    .viewer {
      background:#fff; padding:18px; border-radius:12px;
      box-shadow:0 6px 18px rgba(22,27,40,0.06);
      overflow-y:auto;
    }
    .viewer h1 { font-size:20px; margin-bottom:12px; color:#c2187b; }

    .case-list{display:flex;flex-direction:column;gap:12px;}
    .case-card{background:#fff;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.05);transition:all 0.3s ease;overflow:hidden;}
    .case-header{display:flex;justify-content:space-between;align-items:center;padding:14px 18px;cursor:pointer;font-weight:600;color:#c2187b; border-left: 5px solid transparent;}
    .case-header:hover{background:#fdf1f7;}
    .case-header-title { display: flex; align-items: center; gap: 10px; flex-wrap: wrap;}
    .arrow{transition:transform 0.3s ease-in-out;}
    .case-card.open .arrow{transform:rotate(90deg);}

    .case-body { max-height:0; overflow:hidden; transition:max-height 0.5s ease-in-out, padding 0.3s ease-in-out; }
    .case-card.open .case-body { max-height:1500px; padding-bottom:10px; }
    
    .dropdown{border-top:1px solid #eee;}
    .dropdown-header{padding:12px 16px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-weight:700;}
    .dropdown-header:hover{background:#f6f6f6;}
    .dropdown-arrow{transition:transform 0.3s ease-in-out;}
    .dropdown-body{max-height:0;overflow:hidden;padding:0 16px;transition:max-height 0.5s ease-in-out, padding 0.3s ease-in-out;line-height:1.6;}
    .dropdown.open .dropdown-body{max-height:500px;padding:12px 16px;}
    .dropdown.open .dropdown-arrow{transform:rotate(90deg);}
    .dropdown-body h3 { margin: 10px 0 5px; color: #111; }
    .viewer-search-bar {
      margin-bottom: 15px;
    }
    .viewer-search-bar input {
      width: 100%;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .case-header.urgency-medium { border-left-color: #ffc107; }
    .case-header.urgency-high, .case-header.urgency-urgent { border-left-color: #dc3545; }
    
    .case-tag {
      padding: 3px 10px; font-size: 11px; border-radius: 12px; font-weight: 600;
      text-transform: uppercase; color: white; margin-top: 4px;
    }
    .case-tag.type-delay { background-color: #ffc107; color: #333; }
    .case-tag.type-technical { background-color: #007bff; }
    .case-tag.type-unreachable { background-color: #fd7e14; }
    .case-tag.type-out-of-zone { background-color: #6f42c1; }
    .case-tag.type-restaurant-delay-while-dispatch { background-color: #20c997; }
    .case-tag.type-order-package-messy { background-color: #e83e8c; }
    .case-tag.type-customer-refuses-to-receive { background-color: #dc3545; }
    .case-tag.type-close-by-0 { background-color: #343a40; }
    .case-tag.type-customer-inappropriate-attitude { background-color: #8b0000; }
    .case-tag.type-customer-requests-to-be-called-by-cx { background-color: #17a2b8; }
    .case-tag.type-customer-requests-cancellation-while-en-route { background-color: #ff6347; }
    .case-tag.type-bike-breakdown { background-color: #708090; }
    .case-tag.type-da-request { background-color: #007bff; }
    .case-tag.type-da-is-late-for-pick-up { background-color: #fd7e14; }
    .case-tag.type-da-refused-to-receive-order { background-color: #6f42c1; }
    .case-tag.type-electricity-issue { background-color: #ffc107; color: #212529; }
    .case-tag.type-internet-issue { background-color: #007bff; }
    .case-tag.type-kitchen-maintenance { background-color: #5a6268; }
    .case-tag.type-system-crash { background-color: #c82333; }
    .case-tag.type-can-be-replaced { background-color: #28a745; }
    .case-tag.type-duplicate-order { background-color: #4b0082; }
    .case-tag.type-with-the-restaurant { background-color: #a0522d; }
    .case-tag.type-da-misuse-of-food { background-color: #800000; }
    .case-tag.type-pricing-issue-or-description-or-photo { background-color: #6c757d; }
    .case-tag.type-rider-picked-up-wrong-order { background-color: #fd7e14; }

    .comp-table {
      width: 100%; border-collapse: separate; border-spacing: 0; background: #fff;
      border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); overflow: hidden;
      transition: all 0.3s ease; font-size: 14px;
    }
    .comp-table thead { background: #7d147d; color: #fff; }
    .comp-table th, .comp-table td { padding: 14px 18px; text-align: left; vertical-align: middle; transition: background 0.3s ease; }
    .comp-table tbody tr { border-bottom: 1px solid #eee; }
    .comp-table tbody tr:hover { background: #f3e8f9; }
    .badge { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 12px; font-weight: bold; }
    .badge.refund { background: #e6f0ff; color: #004085; }
    .badge.replacement { background: #e8f8f2; color: #155724; }
    .badge.fixed { background: #fff3cd; color: #856404; }
    .category { display: inline-block; background: #000; color: #fff; font-weight: bold; border-radius: 20px; padding: 5px 12px; font-size: 12px; text-align: center; }
    .note { font-size: 13px; color: #555; }
    
    .document-view h2 { font-size: 18px; color: #c2187b; border-bottom: 2px solid #fbe8f3; padding-bottom: 8px; margin-top: 20px; margin-bottom: 16px; }
    .document-view h2:first-child { margin-top: 0; }
    .document-view h3 { font-size: 16px; font-weight: 700; margin-top: 16px; margin-bottom: 8px; }
    .document-view ul, .document-view ol { padding-left: 25px; margin-bottom: 12px; line-height: 1.7; }
    .document-view li { margin-bottom: 6px; }
    .document-view p { line-height: 1.7; margin-bottom: 10px; }
    .document-view .sms-box { background-color: #f1f3f5; border-left: 4px solid #007bff; padding: 12px; margin: 16px 0; font-style: italic; border-radius: 4px; }

    .comp-policy-table { width: 100%; border-collapse: collapse; margin-top: 25px; border: 1px solid #eee; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .comp-policy-table th, .comp-policy-table td { padding: 14px 18px; text-align: left; border-bottom: 1px solid #eee; }
    .comp-policy-table tbody tr:last-child td { border-bottom: none; }
    .comp-policy-table th { background-color: #f8f9fa; font-weight: 700; }
    .comp-policy-table td:last-child { text-align: center; }
    .badge-percent { background-color: #7d147d; color: white; padding: 6px 14px; border-radius: 20px; font-weight: bold; font-size: 13px; display: inline-block; }
    .badge-full-refund { background-color: #dc3545; color: white; padding: 6px 14px; border-radius: 20px; font-weight: bold; font-size: 13px; display: inline-block; }
  
    .product-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .product-card {
      position: relative; background: #fff; border-radius: 14px; overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: transform .3s ease, box-shadow .3s ease;
      padding: 18px; display: flex; flex-direction: column; justify-content: space-between; height: 100%;
    }
    .product-card:hover { transform: translateY(-6px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
    .product-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
    .product-card h3 { font-size: 18px; margin: 0; display: flex; align-items: center; gap: 8px; color: #243244; }
    .product-card h3 .icon { font-size: 20px; }
    .urgency-badge { font-size: 12px; padding: 4px 10px; border-radius: 20px; font-weight: bold; text-transform: capitalize; }
    .urgent { background: #ffebee; color: #c62828; }
    .medium { background: #fff8e1; color: #f57f17; }
    .normal { background: #e8f5e9; color: #2e7d32; }
    .product-tag {
      display: inline-block; background: #e7f3ff; color: #0056b3; font-size: 12px;
      font-weight: 600; padding: 4px 10px; border-radius: 12px; margin: 4px 0 12px; align-self: flex-start;
    }
    .product-desc { font-size: 14px; color: #555; margin: 0 0 16px; flex-grow: 1; }
    .product-card button {
      background: #800080; color: #fff; border: none; padding: 10px 16px; border-radius: 8px;
      font-weight: bold; font-size: 14px; cursor: pointer; transition: background .3s ease, transform .2s ease;
      width: 100%; margin-top: auto;
    }
    .product-card button:hover { background: #660066; transform: scale(1.03); }

    .modal {
      display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.6); justify-content: center; align-items: center;
      opacity: 0; transition: opacity 0.3s ease-in-out;
    }
    .modal.show { display: flex; opacity: 1; }
    .modal-content {
      background: #fff; border-radius: 12px; width: 500px; max-width: 95%; overflow: hidden;
      transform: scale(0.95); transition: transform 0.3s ease-in-out; display: flex;
      flex-direction: column; max-height: 90vh;
    }
    .modal.show .modal-content { transform: scale(1); }
    .modal-header {
      background: #800080; color: #fff; padding: 14px 18px; display: flex;
      justify-content: space-between; align-items: center; font-size: 18px;
      font-weight: 600; flex-shrink: 0;
    }
    .modal-body { padding: 18px; font-size: 15px; color: #333; line-height: 1.6; overflow-y: auto; flex-grow: 1; }
    .modal-body h4 { margin-top: 16px; margin-bottom: 8px; color: #800080; border-bottom: 1px solid #eee; padding-bottom: 6px; }
    .modal-body h4:first-child { margin-top: 0; }
    .modal-close { cursor: pointer; font-size: 24px; font-weight: bold; transition: transform 0.2s ease; }
    .modal-close:hover { transform: rotate(90deg); }

    /* --- START: Mobile Responsive Styles --- */
    @media (max-width: 768px) {
      .app {
        grid-template-columns: 1fr;
        padding: 10px;
        gap: 15px;
        max-height: none;
        height: auto;
      }
      .sidebar {
        max-height: 40vh; /* Give sidebar a max-height on mobile */
      }
      .viewer {
        overflow-y: auto;
      }
      .product-list {
        grid-template-columns: 1fr;
      }
      .modal-content {
        width: 95%;
      }
    }
    /* --- END: Mobile Responsive Styles --- */

</style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="logo">
        <img src="logo.png" alt="Breadfast Logo">
        <div>
          <div class="brand">Breadfast - Food Aggregation KB</div>
          <div class="tagline">From Bread To Everything</div>
        </div>
      </div>
      <div class="sidebar-search">
        <input type="text" id="sidebarSearch" placeholder="Search...">
      </div>
      <div>
        <div class="section-title" id="catToggle">Categories <span class="arrow">▶</span></div>
        <div class="categories" id="categories">
          <div class="cat" data-cat="rider">Rider Support</div>
          <div class="cat" data-cat="restaurant">Restaurant Support</div>
          <div class="cat" data-cat="outbound" data-render-type="document">Outbound Team</div>
          <div class="cat" data-cat="chat">Customer Requests</div>
          <div class="cat" data-cat="nps" data-render-type="document">NPS</div>
        </div>
      </div>
      <div>
        <div class="section-title" id="compToggle">Complaints <span class="arrow">▶</span></div>
        <div class="complaints" id="complaints">
          <div class="comp" data-comp="products">Products</div>
          <div class="comp" data-comp="delivery">Delivery</div>
          <div class="comp" data-comp="packaging">Packaging</div>
          <div class="comp" data-comp="coffee">Coffee</div>
        </div>
      </div>
      <div>
        <div class="section-title" id="numToggle">Restaurants Numbers <span class="arrow">▶</span></div>
        <div class="numbers" id="numbersBox">
          <div class="num" data-num="all_numbers">Numbers</div>
        </div>
      </div>
      <div>
        <div class="section-title" id="compProcessToggle">Compensation Process <span class="arrow">▶</span></div>
        <div class="processes" id="CompensationProcessBox">
          <div class="proc" data-proc="main_process">Process</div>
        </div>
      </div>
    </aside>
    <main class="viewer">
      <h1 id="viewerTitle">Select a category or complaint to view cases</h1>
      <div id="viewerContent" class="content muted">Results will appear here once you select a category or search.</div>
    </main>
  </div>

  <script>
    const categories = document.querySelectorAll('.cat');
    const complaints = document.querySelectorAll('.comp');
    const numbers = document.querySelectorAll('.num');
    const processes = document.querySelectorAll('.proc');
    const viewerContent = document.getElementById('viewerContent');
    const viewerTitle = document.getElementById('viewerTitle');

    const demoCases = {
      products: [
        {
         case: "Smashed",
 		 type: "Food Quality",
		urgency: "Damaged",
        description: " العميل اشتكى ان المنتج مكسور أو مفتت أو مقسوم أو متفعص أو مهروس أومفتوح",
  		cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on edit to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  Switcher by selecting the order, Wallet Refund and Choosing Product issue as a refund reason and Product Damaged.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Smashed<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
        {
  case: "Freshness",
  type: "Food Quality",
  urgency: "Freshness",
  description: "- العميل اشتكى ان المنتج قديم.العميل اشتكى ان العيش مفرول.العميل قال ان المنتج بايظ (مازال صالح للأكل) و مذكرش كلمة عفن.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Freshness<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Melted",
  type: "Food Quality",
  urgency: "Ice Cream",
  description: "العميل اشتكى ان المنتج جاي سايح او فك من التجمد",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Melted<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Size",
  type: "Food Quality",
  urgency: "Size",
  description: "العميل اشتكى ان حجم المنتج غير مطابق للصورة أو المعلومات على الأبليكيشن",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. Important note: If a customer complains about the size of a product (it seems smaller than the previous time), we should inform the customer that while the size may vary (the product's appearance), the weight should remain consistent on the app, as each product has a specific weight.<br>6. If this is the customer's first order and they complain about the size, educate them about the dimensions, then fulfill the tree with a Feedback not complaint.<br>7. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Size<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "50% Refund of the item + Delivery Fees"
},
{
  case: "Burned",
  type: "Food Quality",
  urgency: "Burned",
  description: "العميل اشتكى ان المنتج ملسوع، محروق، فيه سواد، هباب",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Burned<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Topping",
  type: "Food Quality",
  urgency: "Topping",
  description: "العميل اشتكى ان الطبقة العلوية مفصولة من المنتج داخل العبوة او لازقة في العلبة",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Topping<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Filling",
  type: "Food Quality",
  urgency: "Filling",
  description: "العميل اشتكى ان العبوة غير مملوءة بالكامل(فى حالة ان العبوة مغلقة).العميل اشتكى ان حشو المنتجات ناقص او قليل.العميل اشتكى ان مكون من مكونات السلطة او الساندوتش كان قليل. (Breadfast Kitchen & Breadfast Coffee) فقط",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Filling<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Relative to the restaurant filling standards"
},
		{
  case: "Rotten",
  type: "Food Quality",
  urgency: "Quality",
  description: "- العميل اشتكى من وجود عفن في المنتج (على حسب كلام العميل).وجود عفن ظاهري علي الطعام",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. If we need to conduct an investigation,a pickup order can be created only for 'Breadfast Kitchen & Breadfast Coffee' products using the admin panel.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Rotten<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Hot / Cold",
  type: "Food Quality",
  urgency: "Temperature",
  description: "العميل اشتكى ان المنتج ساقع او سخن و ده عكس طبيعه المنتج.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3.Check the previous tickets, In case a ticket was handled over another channel.<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Hot / Cold<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Replacement order for item if the customer accepted OR 100% refund of the item + Delivery Fees"
},
		{
  case: "Under/Overcooked",
  type: "Food Quality",
  urgency: "Under/Overcooked",
  description: "العميل اشتكى من الدجاج الموجود في أي ساندويتش أو سلطة انه مش مستوي او مستوي زيادة عن اللزوم وذكر أن الدجاج كان ناشف Dry",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. If we need to conduct an investigation,a pickup order can be created only for 'Breadfast Kitchen & Breadfast Coffee' in the undercooked complaints using the admin panel",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Under/Overcooked<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Bad Smell",
  type: "Food Quality",
  urgency: "Smell",
  description: "- العميل اشتكى من وجود رائحة سيئة في المنتج غير مقبولة مثل تعفن ولكن لم يوجد عفن ظاهري.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (in case there is an appearance issue related). will be an appearance complaint<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. If we need to conduct an investigation,a pickup order can be created only for 'Breadfast Kitchen & Breadfast Coffee' in the undercooked complaints using the admin panel<br>8. In case of the complaints related to A restaurant, create an internal request ticket - Restaurant Investigation call, assign it to the OB team, to notify the restaurant with the case.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Smell, Bad Smell<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Spoiled Taste",
  type: "Food Quality",
  urgency: "Taste",
  description: "العميل اشتكى ان طعم المنتج حمضان، مزز أو بايظ. العميل اشتكي ان العصير اللي موجود في الاوفر جاي العلبة منفوخه و بايظ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (in case there is an appearance issue related). will be an appearance complaint<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. If we need to conduct an investigation,a pickup order can be created only for 'Breadfast Kitchen & Breadfast Coffee' in the undercooked complaints using the admin panel<br>8. Create an itenrnal request ticket > Restaurant Investigation call, assign it to the OB team, to notify the restaurant with the case.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Taste, Spoiled Taste<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Ingredients Quality",
  type: "Food Quality",
  urgency: "Quality",
  description: " العميل اشتكى ان جودة مكونات المنتج رديئة. (مثال: الشيكولاته المستخدمه فى المنتج كانها نوع رخيص) - العميل اشتكي ان جودة الاستريبس او الدجاج رديئه ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. This type of case applies only to 'Breadfast Kitchen & Breadfast Coffee'.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Ingredients Quality<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "No refund"
},
		{
  case: "Foreign objects",
  type: "Food Quality",
  urgency: "Foreign objects",
  description: "العميل اشتكى من وجود أجسام غريبة عن مكونات المنتج. (مثل فتلة، ورقة، بلاسيتك مرن أو صلب، معدن، سلكة، خشب، تراب، قشرة، بذرة) او أي نوع ملوث للمنتج (داخل المنتج) ",
  cx: "1. Understand the issue and apologize to the customer with empathy & assure the customer with our hygiene and safety measurments.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.<br>7. This type of case applies only to 'Breadfast Kitchen & Breadfast Coffee'.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Foreign objects<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Full Refund + 300 EGP (fixed value) for inconvenience."
},
			{
  case: "Insects",
  type: "Food Quality",
  urgency: "Insects",
  description: " العميل اشتكى من وجود حشرات أو دود أو سوس في المنتج او على غلاف المنتج. (ايا كان نوع الحشرة) ",
  cx: "1. Understand the issue and apologize to the customer with empathy & assure the customer with our hygiene and safety measurments.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Ask the customer for a suitable time to pick the product with the insect. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>4. Ask for a photo of the item that has an issue. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>5. If the customer asked for a replacement, kindly inform them that we are currently unable to send replacement orders, However, we can only refund the amount of product/order.<br>6.Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.<br>7. If we need to conduct an investigation,a pickup order can be created only for 'Breadfast Kitchen & Breadfast Coffee' products using the admin panel.<br>",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Appearance, Insects<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Full Refund + 300 EGP (fixed value) for inconvenience."
},
		{
  case: "Poisoning",
  type: "Food Quality",
  urgency: "Poisoning",
  description: " نستخدمها فى حالة ان العميل تعب و راح المستشفى* العميل أصيب بنزلة معوية، قئ، مرض شديد و اجاب على ال 6 اسئلة ",
  cx: "1. Understand the issue, apologize sincerely with empathy, and ensure the customer’s well-being by asking about their health and condition.<br>2. Click on 'edit' to check the order details on Yelo.<br>*Check the previous tickets, In case a ticket was handled over another channel.<br>3. Create a retention ticket and change the group to 'CX-Retention',  and make the status 'Open'<br>4. Inform the customer that one of our team will contact him/her, as soon as possible within the day.<br>5. The retention agent should apologize once more and kindly request a photo of the item that has an issue and medical report. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br><br>6. Ask the customer the following questions:<br>1- what symptoms appeared.<br>2- Time between symptoms appearing and eating.<br>3- The number of people who ate compared to the people who showed symptoms<br>4- Age of the affected consumer (children - youth - the elderly).<br>5- Any alergin for the consumer to the item consumed.<br>6- Was any food consumed by the customer before it?<br><br>7. Offer the designed compensation and apply it through  'Switcher' by selecting the order, 'Wallet Refund' and Choosing 'Product issue' as a refund reason and 'Product Quality'.",
  tree: "Ticket Tree: Restaurant, Complaints, Product, Food Safety, Poisoning<br>Group: CX ( As per your group )<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Full Refund + Medical expenses<br>(Medical proof - Request photo evidence when possible)"
},
      ],
      delivery: [
        {
  case: "Coffee Delivery Spilled",
  type: "Delivery Issue",
  urgency: "Coffee",
  description: "القهوة وصلت للعميل مسكوب",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the previous tickets, In case a ticket was created for the concerned order.<br>4. Check the order details.<br>5. Ask for a photo of the item that has an issue. <br>6. Report the ticket on freshdesk",
  tree: "Complaints → Delivery → Coffee Delivery Spilled<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
        {
  case: "Wrong Collection",
  type: "Delivery Issue",
  urgency: "Amount",
  description: "- العميل اشتكى ان الدليفري حصل مبلغ خطا. - الدليفري قفل الاوردر بدون تحصيل اى مبلغ (دون موافقة من فريق الOutbound). - الدليفري حصل فلوس من العميل و الاوردر كان مدفوع اونلاين.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check: <br>-Customer's complaints history<br>-Customer's balance.<br>-Order's amount and the collected amount shown on switcher<br>-In case of the paid amount is unrealistic or a suspecious customer, refer back to the senior.<br>4. Report the ticket on freshdesk<br>5. Take the action:<br>- If the DA collects an amount lower than what the customer paid, refund the rest of amount from switcher.<br>- If the DA collects more than the amount paid by the customer, deduct the rest from the customer's wallet (switcher)",
  tree: "Complaints → Delivery → Wrong Collection<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund the customer with the rest of the amount"
},
		{
  case: "No change",
  type: "Delivery Issue",
  urgency: "No change",
  description: "-العميل اشتكى أن المندوب بلغ بأن ليس معه باقي للمبلغ المدفوع",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Report the ticket on freshdesk<br>5. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → No Change<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "No Compenstion"
},
		{
  case: "Dress code, Smoking",
  type: "Delivery Issue",
  urgency: "Dress code",
  description: "- النظافة الشخصية للمندوب غير مقبولة. - شكوى من العميل من تصرف منافي للنظافة الشخصية من المندوب.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>3. Report the ticket on freshdesk<br>4. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Personal Appearance → Dress code, Smoking<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "No Compenstion"
},
		{
  case: "Hygiene",
  type: "Delivery Issue",
  urgency: "Hygiene",
  description: "النظافة الشخصية للمندوب غير مقبولة. - شكوى من العميل من تصرف منافي للنظافة الشخصية من المندوب.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Check the customer's balance log, make sure that the change was added to the wallet and inform the cst that it is added to the wallet.<br>5. Report the ticket on freshdesk<br>6. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Personal Appearance → Hygiene<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "No Compenstion"
},
		{
  case: "Inappropriate attitude",
  type: "Delivery Issue",
  urgency: "Attitude",
  description: "- تعامل مندوب التوصيل مع العميل غير لائق أو غير محترم. - الدليفري رفض ياخد كوينز من العميل. - العميل اشتكى أن المندوب رن الجرس أو خبط على الباب كتير فى وقت قليل بشكل مزعج.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and ask the customer for more information about the incident<br>4. Report the ticket on freshdesk<br>5. Take the action:<br>-Inform the customer that a formal investigation will take place, to prevent this from happening again.<br>-Send an email with the incident details (in case of severe and urgent cases) , and follow up (if needed).<br>-Compensate the customer with the designed compensation.<br>-Check the customer's balance log, make sure that the change was added to the wallet and inform the cst that it is added to the wallet.",
  tree: "Complaints → Delivery → Personal behavior → Inappropirate attitude<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "50% of the order amount"
},
		{
  case: "Unnecessarily contacting customer",
  type: "Delivery Issue",
  urgency: "Unnecessarily contacting",
  description: " مندوب التوصيل يحاول التواصل مع العميل بدون داعي.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets.<br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Personal behavior → Unnecessarily contacting customer<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "50% of the order amount"
},
		{
  case: "Wrong Order",
  type: "Delivery Issue",
  urgency: "Wrong Order",
  description: "- الريسيت مش بتاع العميل و الدليفري وصل الاوردر لعنوان غلط (وهوا طالب اوردر و مجالوش الاوردر الخاص به) - العميل استلم اوردر زيادة مع الاوردر بتاعه (الاوردر عليه رقم مختلف) ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets<br>4. Ask for a photo of wrong order's number.<br>5. Report the ticket on freshdesk.<br>6. Check the customer's balance log, make sure that the change was added to the wallet and inform the cst that it is added to the wallet.<br>7.Take the action:<br>-In case the DA came back with the right order, we should create a ticket anyways mentioning all of the details.<br>-If a customer complains about receiving the wrong order, we should apologize and compensate the customer with the designed compensation.",
  tree: "Complaints → Delivery → Wrong Order<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "100% refund of the item + Delivery Fees"
},
		{
  case: "Order marked as delivered & cust. didn't receive it",
  type: "Order Issue",
  urgency: "Attitude",
  description: "- الاوردر وصل لعنوان غلط (هنا الى بيشتكى هو العميل الى عامل الاوردر و مجالوش). - الاوردر اتقفل و العميل لسه ماستلمش (المندوب قفل الاوردر قبل ما يوصل للعميل)",
  cx: "1.Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3.Check the order details and tickets.<br>4.Report the ticket on freshdesk.<br>5.Follow up with the DA and contact the customer to provide an update on the order.<br>6.Create a ticket to the live ops team.",
  tree: "Complaints → Delivery → Order details → Order marked as delivered & cust. didn't receive it<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund the delivery fees"
},
		{
  case: "Not following delivery instructions",
  type: "Delivery Issue",
  urgency: "instructions",
  description: "- المندوب لم يتبع تعليمات التوصيل المطلوبة من العميل (التعليمات لازم تكون مكتوبه فى الاوردر)",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Order details → Not following delivery instructions<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "After handling the customer if the customer showed any type of frustration add DF to the wallet via wallet refund ticket "
},
		{
  case: "Theft",
  type: "Delivery Issue",
  urgency: "Theft",
  description: "العميل وضح ان المندوب سرقه ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and ask the customer for more information about the incident.<br>4. Ask for a photo or video from the DA if they send anything to the customer or regarding the incident* Report the ticket on freshdesk<br>5. Create a retention ticket and change the group to 'CX-Retention',  and make the status 'Open'<br>6. Inform the customer that one of our team will contact him/her, as soon as possible within the day.<br><br>7. Take the action:<br>-Inform the customer that a formal investigation will take place, to prevent this from happening again.<br>-Send an email with the incident details (in case of severe and urgent cases) , and follow up (if needed).<br>-Compensate the customer with the designed compensation.",
  tree: "Complaints → Delivery → Order details → Theft<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 100% + urgent escalation + follow up"
},
		{
  case: "Harassment",
  type: "Delivery Issue",
  urgency: "Harassment",
  description: "العميل وضح ان המندوب بعت لها رسايل علي واتساب او تحرش بيها سواء تحرش لفظي او Physical",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and ask the customer for more information about the incident.<br>4. Ask for a photo or video from the DA if they send anything to the customer or regarding the incident. (It's important to educate the customer that we need the photo for the report, and it will help us in the investigation in addition to picking up the product).<br>5. Report the ticket on freshdesk<br>6. Take the action:<br><br>-Inform the customer that a formal investigation will take place, to prevent this from happening again.<br>-Send an email with the incident details (in case of severe and urgent cases) , and follow up (if needed).<br>-Compensate the customer with the designed compensation.",
  tree: "Complaints → Delivery → Order details → Harassment<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 100% + urgent escalation + follow up"
},
		{
  case: "DA didn't call me",
  type: "Delivery Issue",
  urgency: "DA didn't call me",
  description: "العميل وضح ان الديليفري لم يتصل به و عمل ريبورت ان الديليفري كلم العميل و مش بيرد",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Follow up with the DA and call the customer to provide an update on the order.<br>7. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Order details → DA didn't call me<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund delivery fees"
},
		{
  case: "Refused to come to door / asked customer to meet outside",
  type: "Delivery Issue",
  urgency: "Refused",
  description: "العميل وضح ان الديليفري طلب منه انه ينزل يستلم الاوردر من تحت العمارة و رفض يطلعهوله لحد باب الشقه ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Inform the customer that a formal investigation will take place, to prevent this from happening again.",
  tree: "Complaints → Delivery → Refused to come to door / asked customer to meet outside<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund delivery fees"
},
		{
  case: "Moving to wrong direction",
  type: "Delivery Issue",
  urgency: "Wrong direction",
  description: "العميل اشتكي ان المندوب بيتحرك عكس اتجاه عنوانه علي الخريطه ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Check the DA's tracker to determine if they are heading to the restaurant (pickup point) or the customer (delivery point).<br>7. Contact the customer and confirm the ETA time for the order.",
  tree: "Complaints → Delivery → Moving to wrong direction<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund delivery fees"
},
		{
  case: "Delivery is not moving on the app",
  type: "Delivery Issue",
  urgency: "Not moving on",
  description: "الديليفري واقف مكانه مش بيتحرك علي الخريطه  ",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check the order details and tickets <br>4. Ask for details about the incident<br>5. Report the ticket on freshdesk.<br>6. Follow up with the DA and call the customer to provide an update on the order.<br>7. Inform the customer that a formal investigation will take place, to prevent this from happening again.<br>8. Check the DA's tracker to determine if they are heading to the restaurant (pickup point) or the customer (delivery point).<br>9. Contact the customer and confirm the ETA time for the order.",
  tree: "Complaints → Delivery → Delivery is not moving on the app<br>Group: CX ( AS per your group )<Br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund delivery fees"
},
      ],
      packaging: [
        {
  case: "Extra Item",
  type: "Packaging",
  urgency: "Extra Item",
  description: " - العميل اشتكى انه استلم منتج (قطعة) او منتجين (قطعتين) أزيد من اللي طلبها في الاوردر.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Ask the customer, what’s the extra item/s.<br>4. Ask for a photo of the item/s.<br>5. Thank the customer for letting us know and inform him to keep the product as a gift.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Complaints → Packaging → Items → Extra Item<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Keep as a gift"
},


{
  case: "Missing item",
  type: "Packaging",
  urgency: "Missing item",
  description: "- العميل اشتكى من عدم وصول منتج (قطعة) او منتجين (قطعتين) من اللي طلبها في الاوردر.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Check if there’s a ticket created by the CX Restruant team to the outbound team, reporting an out-of-stock item\s.<br>4. Inform the customer that we will refund the product's amount to his wallet and he/she can reorder it again.<br>5. Creat the ticket.<br>6. Create a wallet refund ticket to refund the customer with missing item.",
  tree: "Complaints → Packaging → Items → Missing item<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 25% of the item amount + the delivery fees"
},

{
  case: "Wrong Item",
  type: "Packaging",
  urgency: "Dirty Packaging",
  description: "- العميل اشتكى من توصيل منتج او منتجين خطأ بدل المطلوب في الاوردر(من نفس قسم المنتج الأساسي وبنفس العدد) او البطيخ وصل غلط.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Ask the customer, what’s the wrong item and its quantity.<br>4. Ask for a photo of the received item (it’s important to mention that the photo would be helpful for the investigations).<br>5. Inform the customer that we will refund the product's amount to his wallet to be able to reorder it again and to keep the wrong item as a gift.<br>6. Report the ticket on freshdesk and add a note in the ticket with full details.",
  tree: "Complaints → Packaging → Items → Wrong item<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Keep the wrong product as a gift and 100% Refund of the item + Delivery Fees"
},

{
  case: "Dirty Packaging",
  type: "Packaging",
  urgency: "Dirty Packaging",
  description: " العميل اشتكى ان الشنط مش نضيفة. (أي نوع ملوث داخل الشنط و ليس داخل المنتج) - العميل اشتكى ان تغليف المنتج مش نضيف. (من بره)",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Ask for a photo of the package.<br>4. Report the ticket on freshdesk and add a note in the ticket with full details.<br>5. Assure the customer that this is a mistake, and we will report it.<br>6. Compensate the customer with the designed compensation.",
  tree: "Complaints → Packaging → Appearance → Dirty Packaging<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 25% of the item amount + the delivery fees"
},


{
  case: "Missing cutlery",
  type: "Packaging",
  urgency: "Missing cutlery",
  description: "- العميل اشتكى من عدم وصول السكينة او الشوكة مع المنتج.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Report the ticket on freshdesk and add a note in the ticket with full details.<br>4. Assure the customer that this is a mistake, and we will report it.<br>5. Compensate the customer with the designed compensation.",
  tree: "Complaints → Packaging → Items → Missing cutlery<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 25% of the item amount + the delivery fees<br>in case the customer can't use the product, full refund"
},

{
  case: "Side Item Missing",
  type: "Packaging",
  urgency: "Side Item Missing",
  description: "- العميل اشتكى ان السلطة اوال cheesecake وصلت من غيرالصوص. - العميل اشتكى ان السيزرسالاد وصل من غيرالعيش. - العميل اشتكى ان السندوتشات جت من غيرعلبة الصوص.",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Inform the customer that we will refund the product's amount to his wallet and he/she can reorder it again.<br>4. Report the ticket on freshdesk and add a note in the ticket with full details.<br>5. Create a wallet refund ticket to refund the customer with missing item.",
  tree: "Complaints → Packaging → Items → Side Item Missing<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund 30% of the item amount + the delivery fees"
},

{
  case: "Missing Add-on",
  type: "Packaging",
  urgency: "Missing Add-on",
  description: "العميل طلب اضافة علي المنتج و وصله المنتج من غير الاضافة مثل ('طلب اضافة صوص جبنه شيدر علي البيتزا و استلم البيتزا من غير صوص الشيدر)",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Ask for a photo of the item.<br>4. Report the ticket on freshdesk and add a note in the ticket with full details.<br>5. Assure the customer that this is a mistake, and we will report it.<br>6. Compensate the customer with the designed compensation.",
  tree: "Complaints → Packaging → Missing Add-on<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund the Add-on price"
},

{
  case: "Wrong Add-on",
  type: "Packaging",
  urgency: "Wrong Add-on",
  description: "العميل طلب اضافة علي المنتج و وصله المنتج باضافة خاطئه مثل ('طلب اضافة صوص جبنه شيدر علي البيتزا و استلم البيتزا عليها اضافة صوص باربيكيو)",
  cx: "1. Understand the issue and apologize to the customer with empathy.<br>2. Click on 'edit' to check the order details on Yelo.<br>3. Ask for a photo of the item.<br>4. Report the ticket on freshdesk and add a note in the ticket with full details.<br>5. Assure the customer that this is a mistake, and we will report it.<br>6. Compensate the customer with the designed compensation.",
  tree: "Complaints → Packaging → Wrong Add-on<br>Status: Resolved/Closed (USE THIS)",
  treeCx: "Refund the Add-on price"
},
      ],
      coffee: [
        {
          case: "Wrong Coffee Temperature",
          type: "Quality Issue",
          urgency: "medium",
          description: "The coffee arrived cold when it was supposed to be hot.",
          cx: "1. Apologize for the experience.<br>2. Offer a replacement or a full refund for the coffee.",
          tree: "Coffee → Wrong Temperature",
          treeCx: "Replacement or 100% refund for the item."
        },
        {
          case: "Incorrect Coffee Order",
          type: "Order Accuracy",
          urgency: "urgent",
          description: "Customer received the wrong type of coffee (e.g., latte instead of cappuccino).",
          cx: "1. Apologize and confirm the original order.<br>2. Immediately arrange for a replacement or offer a refund.",
          tree: "Coffee → Incorrect Order",
          treeCx: "Replacement or 100% refund for the item."
        }
      ],
      chat: [
      {
        case: "Late Order Complaint",
        type: "Delay",
        urgency: "medium",
        description: "Customer reports that the order is late beyond the ETA.",
        cx: "1. Apologize to the customer.<br>2. Check DA status in Yelo.<br>3. Provide an ETA and offer compensation if delay is confirmed.",
        tree: "Customer Requests → Late Order",
        treeCx: "Customer informed + compensation applied"
      },
      {
        case: "Wrong Item Delivered",
        type: "Order Issue",
        urgency: "urgent",
        description: "Customer received a wrong dish or missing items.",
        cx: "1. Apologize and confirm order ID.<br>2. Create a ticket.<br>3. Offer replacement or refund.<br>4. Escalate to restaurant if needed.",
        tree: "Customer Requests → Wrong Item",
        treeCx: "Replacement or Refund processed"
      },
      {
        case: "Request for Refund",
        type: "Compensation",
        urgency: "medium",
        description: "Customer is requesting a refund for dissatisfaction.",
        cx: "1. Validate order details.<br>2. Confirm issue type.<br>3. Apply refund policy.<br>4. Document in ticket.",
        tree: "Customer Requests → Refund",
        treeCx: "Refund processed"
      }
    ],
      rider: [
        {
          case: "Unreachable Customer",
          type: 'Unreachable',
          urgency: 'medium',
          description: "The DA arrived at the customer’s door or compound gate, but the customer did not open the door or answer phone calls.",
          cx: "1. Ask for the order number.<br>2. Check it on Yelo.<br>3. Check the tickets first. (We can ask the DA to wait on hold until we call the customer and get back to him).<br>4. Report the ticket on freshdesk and add a note in the ticket with full details.<br>5. The cx agent must call the customer 3 trials within 7 minutes.<br>• If the customer answers: validate with them that the DA tried to call to deliver the order but received no response.<br> • If the customer confirms, mark the ticket as valid.<br>• If the customer denies being called, mark the ticket as invalid.<br>• If the customer does not answer after three attempts: cancel the order and send an “unreachable” SMS to the customer, including a refund if payment was made by credit card.",
          tree: "Internal Request- Riders Support- Unreachable Customer",
          treeCx: "Order Canceled (in case DA refused to deliver).<br> Customer informed (in case DA agreed to deliver)."
        },
        {
          case: "Out of Zone Address",
          type: 'Out of zone',
          urgency: 'medium',
          description: "The customer’s delivery address is outside the DA’s serviceable delivery zone, causing delays or potential cancellation.",
          cx: "1. The CX agent will check the order ID and create a ticket.<br>2. They will first attempt to handle the DA and request delivery as an exception.<br>3. The agent will then call the customer to inform them that their current address is out of zone but will be delivered today as a one-time exception.<br>4. If the DA refuses to deliver, we will cancel the order, choose the reason on Yelo (e.g., Fake Customer) and then inform the customer.",
          tree: "Internal Request- Riders Support- Out of Zone Address",
          treeCx: "Order Canceled (in case DA refused to deliver).<br>Customer informed (in case DA agreed to deliver)."
        },
		{
		  case: "Restaurant Delay While Dispatch",
		  type: 'Restaurant Delay While Dispatch',
		  urgency: 'medium',
		  description: "The DA is waiting at the restaurant for the order, but dispatch is delayed (handover not happening on time).",
		  cx: "•Ask for the order number<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Call the restaurant to confirm the estimated time for dispatching the order to the DA and check for any issues or high volume causing the delay<br>•Notify the DA of the ETA, and Send Delay SMS to customer to be informed of the delay<br>•If the restaurant delay is due to high order volume, request that the restaurant set themselves as busy to prevent future delays. (We can offer to set the restaurant as busy when we have access) (if the DA called within the preperation time > CX validation: invalid - action: DA handled).",
		  tree: "Internal Request- Riders Support- Restaurant Delay While Dispatch",
		  treeCx: "Handled with DA and Restaurant + Customer Informed"
		},
		{
		  case: "Order Package Messy",
		  type: 'Order Package Messy',
		  urgency: 'medium',
		  description: "The DA refuses to receive the order upon delivery due to messy packaging eg, spilled sauce or items on the bag or the order packaging is not properly sealed or is messy when handed to the DA, potentially causing food spillage.",
		  cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Identify the issue with the packaging.<br>•Call the restaurant and attempt to resolve the situation to prevent a negative customer experience.<br>•If the restaurant refuses to cooperate, route the case to the Account Managers for escalation.",
		  tree: "Internal Request- Riders Support- Order Package Messy",
		  treeCx: "Restaurant Handled (In case restauarant cooperated) <br> No Action (in case restaurant refused) "
		},
        {
          case: "Customer Refuses to Receive",
          type: 'Customer Refuses to Receive',
          urgency: 'urgent',
          description: "The customer refuses to accept the order upon delivery due to dissatisfaction, wrong items, or other reasons.",
          cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•The CX agent will check the order ID and create a ticket. They will call the customer to understand the reason for not receiving the order and attempt to handle the situation.<br>•If the customer insists on cancellation, the agent will proceed with cancellation, record or select the cancellation reason in Yelo, and inform the DA of the cancellation.<br>",
          tree: "Internal Request- Riders Support- Customer Refuses to Receive",
          treeCx: "DA Handled"
        },
        {
          case: "Customer challenges with payment ",
          type: 'Close By 0',
          urgency: 'medium',
          description: "The customer declines to pay for the order in Cash-on-Delivery (COD) cases, leaving the DA unable to complete the handover.",
          cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Call the customer to understand why the order value hasn't been paid and explain the policy that a negative amount will be added to their account, potentially preventing future orders until the balance is settled using the top-up feature.<br>•If the customer agrees, Inform the DA to leave and apply the negative amount to the customer's account.<br>•Document the collected amount by the DA versus the actual amount for Karam to settle later.<br>•Route the ticket to the Live OPS team after confirming with both the customer and rider. (We post on cx liveops channel on slack for now)<br>•If the customer requests a cancellation instead, proceed with the cancellation, record or select the cancellation reason in Yelo, and inform the DA of the cancellation.",
          tree: "Internal Request- Riders Support- Customer challnages with payment ",
          treeCx: "DA Handled (in case negative balance will be added).<br>Order canceled (in case order will be canceled)."
        },
        {
          case: "Customer Inappropriate Attitude",
          type: 'Customer Inappropriate Attitude',
          urgency: 'urgent',
          description: "The DA reports the customer’s unprofessional, abusive, or disrespectful behavior during delivery.",
          cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Apologize to the DA and attempt to handle the situation by asking the DA to deliver the order.<br>•Call the customer to understand what is the issue and take the necessary action. (if the DA is not handled we need to report to liveops through slack channel cx-liveops for now)",
          tree: "Internal Request- Riders Support- Customer Inappropriate Attitude",
          treeCx: "DA Handled"
        },
        {
          case: "Customer Requests to Be Called by CX",
          type: 'Customer Requests to Be Called by CX',
          urgency: 'medium',
          description: "The customer requests direct contact from CX (e.g., clarification about order, or issue order).",
          cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Assign the ticket to the outbound team to call the customer and take the needed action<br>",
          tree: "Internal Request- Riders Support- Customer Requests to Be Called by CX",
          treeCx: "-"
        },
        {
          case: "Customer Requests Cancellation While En Route",
          type: 'Customer Requests Cancellation While En Route',
          urgency: 'urgent',
          description: "The customer asks to cancel the order after the DA has already picked it up and is on the way.",
          cx: "•Ask for the order number.<br>•Check it on Yelo.<br>•Report the ticket on freshdesk and add a note in the ticket with full details.<br>•Call the customer to understand the reason for the cancellation and try to resolve the situation.<br>•If the customer insists on canceling, proceed with the cancellation,select the cancellation reason in Yelo, and inform the DA to move <br>(If the case is routed from the catting team, should be assigned to the outbound team)",
          tree: "Internal Request- Riders Support- Customer Requests Cancellation While En Route",
          treeCx: "Order Canceled (in case customer insists on canceling).<br>No action (in case order will be delivered normally)."
        },
        {
          case: "Live OPS Assistance -DA Bike Breakdown",
          type: 'Bike Breakdown',
          urgency: 'medium',
          description: "The DA’s motorcycle, bicycle, or car breaks down during delivery, preventing them from completing the order.",
          cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Report the ticket on freshdesk and add a note in the ticket with full details.<br>-Route the case to Live OPS, who will manage the DA or reassign a new DA and for further investigation, then send delay SMS to the customer.. (we report to liveops on the slack channel cx-liveops for now)",
          tree: "Internal Request- Riders Support- Live OPS Assistance",
          treeCx: "SMS sent"
        },
        {
          case: "Live OPS Assistance",
          type: 'DA Request',
          urgency: 'urgent',
          description: "Any request from the DA related to Live OPS",
          cx: "-Check if the issue is related to the DA or to an order.<br>-Ask for the order number.<br>-Inform the DA that their issue will be reported to the Live OPS team.<br>-Route the ticket to Live OPS.<br>*Any issues unrelated to CX (e.g., DA is sick, DA wants to end their shift early, etc.) should also be routed directly to Live OPS. (we report to liveops on the slack channel cx-liveops for now)",
          tree: "Internal Request- Riders Support- Live OPS Assistance",
          treeCx: "No Action"
        }
      ],
      restaurant: [
        { case: "DA is late for pick-up", type: 'DA is late for pick-up', urgency: 'urgent', description: "The Delivery Agent has not arrived at the restaurant within the expected time window, causing a delay in food handover.", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Create a ticket.<br>-Check the DA’s location on the map.<br>-Call the DA to confirm the estimated delivery time to the restaurant.<br>-Notify the restaurant with the ETA.", tree: "Internal Request- Resturant Support- DA is late for pick-up", treeCx: "Resturant Handled" },
        { case: "DA refused to receive order", type: 'DA refused to receive order', urgency: 'medium', description: "The DA reaches the restaurant but refuses to accept or pick up the assigned order, resulting in potential order cancellation or reassignment.", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Create a ticket and call the DA to determine the reason for any issues.<br>-If the DA refuses to deliver, route the case to Live OPS, who will manage the DA or reassign a new DA. (through slack channel now cx-liveops)<br>-If the DA agrees to deliver without delay, no further action is needed.<br>-If a new DA is reassigned (which may cause a delay), send SMS to the customer. (we need to get back to the restautrant to update them with the action that will be taken)", tree: "Internal Request- Resturant Support- DA refused to receive order", treeCx: "Handled with DA and Resturant + Customer Informed" },
        { case: "Electricity Issue", type: 'Electricity Issue', urgency: 'urgent', description: "The restaurant is unable to prepare food due to a power outage, impacting order fulfillment.", cx: "-Create a ticket and mark the restaurant as busy. (for now will send on slack bfa-cx-day-savers to ask them to set the restaurant as busy as we don't have access yet)<br>-Coordinate with the restaurant to obtain an ETA for when the issue will be resolved.<br>-Request the restaurant to complete ongoing orders and cancel those not yet started on their behalf.<br>-Create a cancellation ticket with a detailed reason and route it to the outbound team. (In case there is only one order, inbound team will create a cancellation ticket that would be assigned to the OB to call the customer / if there are more than one order, will create one ticket to the outbound team to cancel these orders and create a cancelation ticket for each order)<br>*CX Oubtound Action*<br>-Read the reason, call the customer, and inform them that the order will be canceled.<br>*If the order was paid by -Visa, inform the customer of our authorization and capture payment policy and offer a 200 LE compensation.<br>-Create a \"Wallet Refund\" ticket for the compensation.", tree: "Internal Request- Resturant Support- Electricity Issue", treeCx: "Resturant Handled" },
        { case: "Internet Issue", type: 'Internet Issue', urgency: 'medium', description: "The restaurant cannot receive or confirm orders due to internet connectivity problems.", cx: "-Create a ticket and mark the restaurant as busy. (for now will send on slack bfa-cx-day-savers to ask them to set the restaurant as busy as we don't have access yet)<br>-Coordinate with the restaurant to obtain an ETA for when the issue will be resolved. (In case of landline/internet issue and not SIM card issue)<br>-Request the restaurant to complete ongoing orders and cancel those not yet started on their behalf.<br>-Create a cancellation ticket with a detailed reason and route it to the outbound team. (In case there is only one order, inbound team will create a cancellation ticket that would be assigned to the OB to call the customer / if there are more than one order, will create one ticket to the outbound team to cancel these orders and create a cancelation ticket for each order)<br>*CX Oubtound Action*<br>-Read the reason, call the customer, and inform them that the order will be canceled.<br>*If the order was paid by -Visa, inform the customer of our authorization and capture payment policy and offer a 200 LE compensation.<br>-Create a \"Wallet Refund\" ticket for the compensation.", tree: "Internal Request- Resturant Support- Internet Issue", treeCx: "Resturant Handled" },
        { case: "Kitchen Maintenance", type: 'Kitchen Maintenance', urgency: 'urgent', description: "The restaurant is unable to prepare food due to issues with kitchen equipment (e.g., grill, fryer, oven, or other essential tools) requiring maintenance or repair, which temporarily disrupts order fulfillment.", cx: "-Create a ticket and mark the restaurant as busy. (for now will send on slack bfa-cx-day-savers to ask them to set the restaurant as busy as we don't have access yet)<br>-Coordinate with the restaurant to obtain an ETA for when the issue will be resolved.<br>-Request the restaurant to complete ongoing orders (if possible) and cancel those not yet started on their behalf.<br>-Create a cancellation ticket with a detailed reason and route it to the outbound team. (In case there is only one order, inbound team will create a cancellation ticket that would be assigned to the OB to call the customer / if there are more than one order, will create one ticket to the outbound team to cancel these orders and create a cancelation ticket for each order)<br>*CX Oubtound Action*<br>-Read the reason, call the customer, and inform them that the order will be canceled.<br>*If the order was paid by -Visa, inform the customer of our authorization and capture payment policy and offer a 200 LE compensation. <br>-Create a \"Wallet Refund\" ticket for the compensation.", tree: "Internal Request- Resturant Support- Kitchen Maintenance", treeCx: "Resturant Handled" },
        { case: "System Crash", type: 'System Crash', urgency: 'medium', description: "The restaurant’s POS or ordering system fails “Tablet or SIM Card”, preventing them from receiving or processing orders.", cx: "-Create a ticket and set the restaurant status to busy, then assign the ticket to the Onboarding Team and mention the account managers in the note for visability. (for now will send on slack bfa-cx-day-savers to ask them to set the restaurant as busy as we don't have access yet)<br>-Coordinate with the restaurant to get the exact system issue to inform the account manager<br>-Request the restaurant to complete ongoing orders (if possible) and cancel those not yet started on their behalf.<br>-Create a cancellation ticket with a detailed reason and route it to the outbound team.(In case there is only one order, inbound team will create a cancellation ticket that would be assigned to the OB to call the customer / if there are more than one order, will create one ticket to the outbound team to cancel these orders and create a cancelation ticket for each order)<br>*CX Oubtound Action*<br>-Read the reason, call the customer, and inform them that the order will be canceled.<br>*If the order was paid by -Visa, inform the customer of our authorization and capture payment policy and offer a 200 LE compensation.<br>-Create a \"Wallet Refund\" ticket for the compensation.", tree: "Internal Request- Resturant Support- System Crash", treeCx: "Resturant Handled" },
        { case: "Unavailable Menu Item – Stock Issue", type: 'Can be Replaced', urgency: 'urgent', description: "A menu item is listed as available but is actually out of stock at the restaurant, leading to customer dissatisfaction.", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Create a ticket and mark the item as unavailable. (Will ask the reastaurant to take the action from their side if possible - if not, will send on slack channcel bfa-cx-day-savers)<br>-Call the customer to confrim with them and proceed with the needed compensation. (if the customer wants to cancel the order, we need to create a cancelation ticket and get back to the restaurant to inform them)", tree: "Internal Request- Resturant Support- Unavailable Menu Item – Stock Issue", treeCx: "Item Marked Unavailable + Customer Informed" },
        { case: "Duplicate Order", type: 'Duplicate Order', urgency: 'medium', description: "The same order is received multiple times by the restaurant due to a system glitch or error, creating confusion.", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Contact the customer and check if they want both orders or only one.<br>-If the customer wants one of them, cancel the other and close the ticket.<br>-If they want both, contact the restaurant to prepare both items.<br>(if the customer wants to cancel the order, we need to create a cancelation ticket and get back to the restaurant to inform them)", tree: "Internal Request- Resturant Support- Duplicate Order", treeCx: "Order canceled (In case one of them is canceled).<br>Restaurant Handled (in case customer wants both orders)." },
        { case: "DA rude behavior", type: 'With The Restaurant', urgency: 'urgent', description: "Restaurant staff reports unprofessional, disrespectful, or aggressive behavior by the DA during pickup.", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Create a ticket, apologize to the restaurant, and assure them that the issue with the DA will be escalated.<br>-Route the case to Live OPS, who will manage the DA or reassign a new DA. (through slack channel for now cx-liveops)<br>-If a delay is expected due to reassignment, should sent Delay SMS", tree: "Internal Request- Resturant Support- DA rude behavior", treeCx: "Handled with DA and Restaurant + Customer Informed" },
        { case: "DA misuse of food", type: 'DA misuse of food', urgency: 'medium', description: "The restaurant reports or suspects that the Delivery Agent mishandled the food after collection, such as eating part of the order, placing food on the ground, or compromising food safety in any way.", cx: "-Create a ticket, apologize to the restaurant, and reassure them that the issue with the rider will be escalated.<br>-Route the ticket to the liveOps team to take an action with the DA. (through slack channel for now cx-liveops)", tree: "Internal Request- Resturant Support- DA misuse of food", treeCx: "Resturant Handled" },
        { case: "Pricing Issue or Description or Photo", type: 'Pricing Issue or Description or Photo', urgency: 'urgent', description: "The restaurant reports an error in the displayed menu content, such as incorrect pricing, inaccurate item descriptions, or wrong/missing photos. These issues are related to the Content Team and may affect customer expectations and order accuracy.", cx: "-Create a ticket and reassure the restaurant that the issue will be escalated to the Content Team<br>-Route the ticket to the Content Team for resolution within the agreed SLA.<br>-Mention the Account Managers in the note for visibility (for now will send on slack channel bfa-cx-day-savers)", tree: "Internal Request- Resturant Support- Pricing Issue or Description or Photo", treeCx: "No action Needed" },
        { case: "Rider Picked Up wrong Order", type: 'Rider Picked Up wrong Order', urgency: 'medium', description: "The restaurant reports that the DA picked up wrong order and want them back for exchange before reaching the customer", cx: "-Ask for the order number.<br>-Check it on Yelo.<br>-Create a ticket and call the DA to confrim<br> • If the DA could get back to change the order, then confrim with the restruant and then Send the Delay SMS to the customer.<br> • If not, Create ticket and route it to Live OPS to re assign new DA to get the right order to deliver it for the customer and then Send the Delay SMS to the customer. (will send through slack channel cx-liveops)", tree: "Internal Request- Resturant Support- Rider Picked Up wrong Order", treeCx: "Handled with DA and Restaurant + Customer Informed (in case the DA will be back for the exchange).<br>Same action if the order will be reassigned." }
      ],
      outbound: [
        {
          content: `
            <div class="document-view">
              <h2>Responsibilities</h2>
              <p>The Outbound Team will handle the following cases:</p>
              <ol>
                <li>4- and 5-star ratings with comments</li>
                <li>Customer requests for a call (from any team)</li>
                <li>High-value tickets</li>
                <li>Late order tickets</li>
              </ol>
              <h2>1. 4- and 5-Star Ratings with Comments</h2>
              <ul>
                <li>Process will follow the same model as the Supermarket team.</li>
                <li>Agents will review the customer’s comments and take appropriate follow-up actions.</li>
              </ul>
              <h2>2. Customer Requests for a Call</h2>
              <ul>
                <li>Customer call-back requests (from any team) will be handled by the Outbound Team.</li>
                <li>Follow-up process will be the same as the Supermarket model.</li>
              </ul>
              <h3>Handling Notes:</h3>
              <ul>
                <li>A customer complaint ticket must always be submitted.</li>
                <li>If the order is from Breadfast Coffee or Breadfast Kitchen:
                  <ul>
                    <li>Proceed with pickup, if needed.</li>
                    <li>Route the case to Pending QA Update, if needed investigation.</li>
                    <li>Compensate the customer and follow the same sequence as the Supermarket model.</li>
                  </ul>
                </li>
                <li>For all other restaurants:
                  <ul>
                    <li>Submit the complaint.</li>
                    <li>Compensate the customer.</li>
                    <li>Close the ticket.</li>
                  </ul>
                </li>
              </ul>
              <h2>3. High-Value Order Tickets</h2>
              <p>A ticket is triggered when the order value is above 2,500 EGP.</p>
              <h3>Process:</h3>
              <ol>
                <li>Call the customer to confirm: Address, Order amount, Confirmation that the customer still needs the order.</li>
                <li>Once confirmed, call the restaurant to start preparing the order.</li>
                <li>If the customer does not answer after 2 call attempts (2nd trial after 2 minutes) / the valid trial should be ringing "not busy":
                  <ul>
                    <li>Cancel the order in Yelo with the appropriate cancellation reason (fake order).</li>
                    <li>Send this SMS to the customer:
                      <div class="sms-box">“We tried to call you twice to confirm your order. However, since we did not receive a response, your order has been cancelled. Please reach out to Breadfast Support through the app if you have any questions or concerns.”</div>
                    </li>
                  </ul>
                </li>
                <li><strong>Priority:</strong> These tickets are high priority since restaurants will not start preparation until confirmation is received.</li>
              </ol>
              <h2>4. Late Order Tickets</h2>
              <p>A ticket is triggered when an order is delayed by 5 minutes or more after the agreed delivery time. (This is based on the expected time shown on switcher NOT YELO - if it's completed but late for less than 5 minutes, our action will be only calling and handling the customer)</p>
              <h3>Process (if late for more than 5 minutes):</h3>
              <ol>
                <li>Check if the order has been delivered or not.</li>
                <li>Call the rider or restaurant (based on order status) to confirm the expected delivery time.</li>
                <li>Call the customer to apologize for the delay and offer compensation based on the delay duration:</li>
              </ol>
              <table class="comp-policy-table">
                <thead>
                  <tr>
                    <th>Delay Duration</th>
                    <th>Compensation Offered</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Short Delay (5–10 min)</td>
                    <td><span class="badge-percent">25% of order amount</span></td>
                  </tr>
                  <tr>
                    <td>Mid Delay (15–20 min)</td>
                    <td><span class="badge-percent">50% of order amount</span></td>
                  </tr>
                  <tr>
                    <td>Extreme Delay (25–30 min)</td>
                    <td><span class="badge-full-refund">100% refund</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
          `
        }
      ],
      nps: [
        {
          content: `
            <div class="document-view">
              <h2>1. Ticket Notification:</h2>
              <ul>
                <li>The Follow-Up Team receives a ticket 1 hour after order completion.</li>
              </ul>
              <h2>2. Please enter the following data in each ticket:</h2>
              <ul>
                <li>Agent adds the customer details and fills in the NPS sheet with the following fields:
                  <ul>
                    <li>Ticket ID</li>
                    <li>Order ID</li>
                    <li>Customer ID</li>
                    <li>Restaurant HRID</li>
                    <li>DA HRID</li>
                    <li>Month</li>
                    <li>Date</li>
                    <li>Agreed to Record</li>
                    <li>NPS Question: “On a scale from 0 to 10, how likely are you to recommend Breadfast restaurant delivery to a friend or colleague?”</li>
                    <li>NPS Score Category</li>
                    <li>Main reason for the score</li>
                    <li>How easy was it to place your order?</li>
                    <li>Is there anything that could have made the ordering experience better?</li>
                    <li>Were there any features you expected but didn’t find? If yes, what are they?</li>
                    <li>How satisfied were you with the delivery speed, accuracy, and rider experience?</li>
                    <li>What could we improve about your delivery experience?</li>
                    <li>How satisfied were you with the temperature and quality of your food upon delivery?</li>
                    <li>How do you feel about the variety of restaurants available on Breadfast today?</li>
                    <li>Are there specific restaurants you’d like us to add?</li>
                  </ul>
                </li>
              </ul>
              <h2>3. Duplication Check</h2>
              <ul>
                <li>On the next day, search using the customer number to confirm if the customer has already been called before, to avoid disturbing them with repeated follow-ups.</li>
              </ul>
              <h2>4. NPS & Compensation Logging</h2>
              <ul>
                <li>Submit the NPS score in the tree.</li>
                <li>Add the compensation amount (if offered) in line with the Compensation Guidelines based on the NPS score.</li>
              </ul>
              <h2>5. Complaint Handling</h2>
              <ul>
                <li>If the customer raises a complaint, create a separate complaint ticket to ensure proper handling and tracking.</li>
              </ul>
            </div>
          `
        }
      ],
      all_numbers: [
        {
          case: "Restaurant Contact List",
          dropdownTitle: "Numbers",
          content: "<strong>KFC:</strong> 19019<br><strong>Pizza Hut:</strong> 19000<br><strong>McDonald's:</strong> 19991"
        }
      ],
      main_process: [
        { 
          content: `
     		 <div class="viewer-search-bar">
       		 <input type="text" id="compensationSearch" placeholder="Search in compensation table...">
     		 </div>
     		 <table class="comp-table">
     		   <thead>
                <tr>
                   <th>Complaint Type</th>
                  <th>Description</th>
                  <th>Needed Action / Information</th>
                  <th>Recommended Compensation</th>
                  <th>Notes</th>
                  <th>Category</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Bad Quality Food</strong></td>
                  <td>Not fresh food, undercooked, overcooked, spoiled.</td>
                  <td>📷 Picture</td>
                  <td><span class="badge refund">Refund</span> 100% refund of the item + Delivery Fees</td>
                  <td class="note">Request photo evidence when possible.</td>
                  <td><span class="category">Food Quality</span></td>
                </tr>
                <tr>
                  <td><strong>Wrong Temperature (Cold/Hot) Food</strong></td>
                  <td>Cold food when it should be hot; melted/damaged cold items.</td>
                  <td>—</td>
                  <td><span class="badge replacement">Replacement</span> Replacement order OR 100% refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Food Quality</span></td>
                </tr>
                <tr>
                  <td><strong>Wrong Order Delivered</strong></td>
                  <td>Completely different dishes/items.</td>
                  <td>—</td>
                  <td><span class="badge replacement">Replacement</span> Replacement OR 100% refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Order Issue</span></td>
                </tr>
                <tr>
                  <td><strong>Missing Items</strong></td>
                  <td>Main item missing.</td>
                  <td>—</td>
                  <td><span class="badge replacement">Replacement</span> Replacement OR 100% refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Order Issue</span></td>
                </tr>
                <tr>
                  <td><strong>Side Item Missing</strong></td>
                  <td>Side item that should come with the main item (e.g., sauce).</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> 30% refund of item + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Order Issue</span></td>
                </tr>
                <tr>
                  <td><strong>Add-on Missing</strong></td>
                  <td>Paid add-on not provided.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> Full refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Order Issue</span></td>
                </tr>
                <tr>
                  <td><strong>Orders Cancelled Due to DA or Restaurant Issues</strong></td>
                  <td>Cancelled by DA or Restaurant.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> Full Refund + 100–200 EGP for inconvenience</td>
                  <td>—</td>
                  <td><span class="category">Operational</span></td>
                </tr>
                <tr>
                  <td><strong>Late Orders</strong></td>
                  <td>Late above 15 minutes ETA.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> Full refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Operational</span></td>
                </tr>
                <tr>
                  <td><strong>Delivery Agent Misconduct</strong></td>
                  <td>Inappropriate attitude / mishandling food.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> 50% refund; theft/harassment = 100% + escalation</td>
                  <td>—</td>
                  <td><span class="category">Operational</span></td>
                </tr>
                <tr>
                  <td><strong>Smashed / Spilled</strong></td>
                  <td>Food smashed or spilled during handling/delivery.</td>
                  <td>—</td>
                  <td><span class="badge replacement">Replacement</span> Replacement OR 100% refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Food Quality</span></td>
                </tr>
                <tr>
                  <td><strong>Portion Size Issues</strong></td>
                  <td>Smaller than advertised/paid for.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> 50% refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Food Quality</span></td>
                </tr>
                <tr>
                  <td><strong>Out-of-Stock after accepting order</strong></td>
                  <td>Restaurant later notifies item is out-of-stock.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> Full refund + Delivery Fees</td>
                  <td>—</td>
                  <td><span class="category">Operational</span></td>
                </tr>
                <tr>
                  <td><strong>Technical / System Errors</strong></td>
                  <td>Duplicate charge, no order received.</td>
                  <td>—</td>
                  <td><span class="badge refund">Refund</span> Full Refund + 100 EGP for inconvenience</td>
                  <td>—</td>
                  <td><span class="category">System</span></td>
                </tr>
                <tr>
                  <td><strong>Goodwill Compensation (CSAT Recovery)</strong></td>
                  <td>Minor issue / repetitive complaints.</td>
                  <td>—</td>
                  <td><span class="badge fixed">Fixed</span> 50% refund OR 100–200 EGP</td>
                  <td>—</td>
                  <td><span class="category">Goodwill</span></td>
                </tr>
                <tr>
                  <td><strong>NPS Recovery – Mild</strong></td>
                  <td>First-time NPS drop, minor complaint.</td>
                  <td>—</td>
                  <td><span class="badge fixed">Fixed</span> 100 EGP</td>
                  <td>—</td>
                  <td><span class="category">Goodwill</span></td>
                </tr>
                <tr>
                  <td><strong>NPS Recovery – Moderate</strong></td>
                  <td>Clear failure: late order, missing items, etc.</td>
                  <td>—</td>
                  <td><span class="badge fixed">Fixed</span> 200 EGP</td>
                  <td>—</td>
                  <td><span class="category">Goodwill</span></td>
                </tr>
                <tr>
                  <td><strong>NPS Recovery – Severe</strong></td>
                  <td>High churn risk, repeated issues.</td>
                  <td>—</td>
                  <td><span class="badge fixed">Fixed</span> 300 EGP</td>
                  <td>—</td>
                  <td><span class="category">Goodwill</span></td>
                </tr>
                <tr>
                  <td><strong>Food Safety – Moderate</strong></td>
                  <td>Foreign object, illness complaints, medical proof.</td>
                  <td>📷 Picture</td>
                  <td><span class="badge refund">Refund</span> Full Refund + 300 EGP</td>
                  <td class="note">Request photo evidence when possible.</td>
                  <td><span class="category">Food Safety</span></td>
                </tr>
              </tbody>
            </table>
          ` 
        }
      ]
    };

    function renderCases(cases, title, type = 'case'){
      viewerTitle.textContent = title;
      if (!cases || cases.length === 0){
        viewerContent.innerHTML = "<p class='muted'>No cases found.</p>";
        return;
      }

      let contentHTML = '';
      let searchBarHTML = '';
      const searchableTitles = ["Products", "Delivery", "Packaging", "Coffee", "Rider Support", "Restaurant Support", "Customer Requests"];

      if (searchableTitles.some(st => title.includes(st))) {
          const placeholderText = title.includes("Complaints") ? title.replace(' Complaints', '') : title;
          searchBarHTML = `
            <div class="viewer-search-bar">
              <input type="text" id="viewerSectionSearch" placeholder="Search in ${placeholderText} cases...">
            </div>
          `;
      }

      if (title.includes("Products") || title.includes("Delivery") || title.includes("Packaging") || title.includes("Coffee")) {
        contentHTML += '<div class="product-list">' +
          cases.map((c, idx) => {
            let icon = '📦';
            if (title.includes("Products")) icon = '🍔';
            if (title.includes("Delivery")) icon = '🛵';
            if (title.includes("Packaging")) icon = '🛍️';
            if (title.includes("Coffee")) icon = '☕';
            
            return `
            <div class="product-card">
              <div>
                <div class="product-card-header">
                  <h3><span class="icon">${icon}</span>${c.case}</h3>
                  <span class="urgency-badge ${(c.urgency||"normal").toLowerCase()}">${c.urgency||"Normal"}</span>
                </div>
                <span class="product-tag">${c.type}</span>
                <p class="product-desc">${c.description||"No description"}</p>
              </div>
              <button onclick="openModal('${title.replace(/\s+/g, '')}Modal${idx}')">View Details</button>
            </div>
            <div id="${title.replace(/\s+/g, '')}Modal${idx}" class="modal">
              <div class="modal-content">
                <div class="modal-header">
                  <span>${c.case}</span>
                  <span class="modal-close" onclick="closeModal('${title.replace(/\s+/g, '')}Modal${idx}')">&times;</span>
                </div>
                <div class="modal-body">
                  <h4>Case Handling Steps</h4><p>${c.cx||"No action steps"}</p>
                  <h4>Compensation Needed</h4><p>${c.treeCx||"No compensation info"}</p>
                  <h4>Ticket Tree</h4><p>${c.tree||"No tree data"}</p>
                </div>
              </div>
            </div>`;
          }).join('') + '</div>';
      } else if (type === 'document') {
        contentHTML = `<div class="document-view">${cases.map(c => c.content || "").join('')}</div>`;
      } else if (type === 'table') {
        contentHTML = cases.map(c => c.content || "").join('');
      } else if (type === 'single_dropdown') {
        contentHTML = '<div class="case-list">' +
          cases.map(c => `
            <div class="case-card open">
              <div class="case-header" style="cursor: default;">${c.case}</div>
              <div class="case-body" style="max-height: 1500px;">
                <div class="dropdown open">
                  <div class="dropdown-header" style="cursor: default;">${c.dropdownTitle || 'Details'} <span class="dropdown-arrow" style="transform: rotate(90deg);">▶</span></div>
                  <div class="dropdown-body" style="max-height: 500px; padding: 12px 16px;">${c.content || "No content defined."}</div>
                </div>
              </div>
            </div>`).join('') + '</div>';
      } else { // Default 'case' type
        contentHTML = '<div class="case-list">' +
          cases.map(c => `
            <div class="case-card">
              <div class="case-header urgency-${(c.urgency || 'normal').toLowerCase()}">
                <div class="case-header-title">
                  <span>${c.case}</span>
                  ${c.type ? `<span class="case-tag type-${(c.type || '').replace(/ /g, '-').toLowerCase()}">${c.type}</span>` : ''}
                </div>
                <span class="arrow">▶</span>
              </div>
              <div class="case-body">
                <div class="dropdown"><div class="dropdown-header">ℹ️ Description <span class="dropdown-arrow">▶</span></div><div class="dropdown-body">${c.description||"No description"}</div></div>
                <div class="dropdown"><div class="dropdown-header">🛠️ CX Agent Action Steps <span class="dropdown-arrow">▶</span></div><div class="dropdown-body">${c.cx||"No action"}</div></div>
                <div class="dropdown"><div class="dropdown-header">🌳 Tree <span class="dropdown-arrow">▶</span></div><div class="dropdown-body">${c.tree||"No tree data"}</div></div>
                <div class="dropdown"><div class="dropdown-header">⬆️ CX Actions <span class="dropdown-arrow">▶</span></div><div class="dropdown-body">${c.treeCx||"No tree CX action"}</div></div>
              </div>
            </div>`).join('') + '</div>';
      }

      viewerContent.innerHTML = searchBarHTML + contentHTML;

      if (searchableTitles.some(st => title.includes(st))) {
        const sectionSearchInput = document.getElementById('viewerSectionSearch');
        const cards = viewerContent.querySelectorAll('.product-card, .case-card');
        sectionSearchInput.addEventListener('input', () => {
          const query = sectionSearchInput.value.toLowerCase();
          cards.forEach(card => {
            const cardText = card.textContent.toLowerCase();
            card.style.display = cardText.includes(query) ? '' : 'none';
          });
        });
      }

      if (type === 'table') {
        const searchInput = document.getElementById('compensationSearch');
        if (searchInput) {
          const table = viewerContent.querySelector('.comp-table');
          const rows = table.querySelectorAll('tbody tr');
          searchInput.addEventListener('input', () => {
            const query = searchInput.value.toLowerCase();
            rows.forEach(row => {
              row.style.display = row.textContent.toLowerCase().includes(query) ? '' : 'none';
            });
          });
        }
      } else if (type === 'case') {
        document.querySelectorAll('.case-header').forEach(header => {
          header.addEventListener('click', () => {
            const card = header.parentElement;
            card.classList.toggle('open');
            if (!card.classList.contains('open')) {
              card.querySelectorAll('.dropdown').forEach(d => d.classList.remove('open'));
            }
          });
        });
        document.querySelectorAll('.dropdown-header').forEach(header => {
          header.addEventListener('click', (e) => {
            e.stopPropagation();
            const parent = header.parentElement;
            parent.classList.toggle('open');
          });
        });
      }
    }

    function removeAllActiveClasses() {
      categories.forEach(c => c.classList.remove('active'));
      complaints.forEach(c => c.classList.remove('active'));
      numbers.forEach(n => n.classList.remove('active'));
      processes.forEach(p => p.classList.remove('active'));
    }

    categories.forEach(cat => {
      cat.addEventListener('click', () => {
        removeAllActiveClasses();
        cat.classList.add('active');
        const renderType = cat.dataset.renderType || 'case';
        renderCases(demoCases[cat.dataset.cat]||[], cat.innerText, renderType);
      });
    });

    complaints.forEach(comp => {
      comp.addEventListener('click', () => {
        removeAllActiveClasses();
        comp.classList.add('active');
        renderCases(demoCases[comp.dataset.comp]||[], comp.innerText + " Complaints", 'case');
      });
    });

    numbers.forEach(num => {
      num.addEventListener('click', () => {
        removeAllActiveClasses();
        num.classList.add('active');
        renderCases(demoCases[num.dataset.num]||[], "Restaurant " + num.innerText, 'single_dropdown');
      });
    });

    processes.forEach(proc => {
      proc.addEventListener('click', () => {
        removeAllActiveClasses();
        proc.classList.add('active');
        renderCases(demoCases[proc.dataset.proc]||[], "Compensation Process", 'table');
      });
    });

    function setupToggle(toggleId, boxId){
      const toggle = document.getElementById(toggleId);
      const box = document.getElementById(boxId);
      const arrow = toggle.querySelector('.arrow');
      toggle.addEventListener('click', () => {
        box.classList.toggle('open');
        if(box.classList.contains('open')){
          box.style.maxHeight = box.scrollHeight + "px";
          arrow.style.transform = "rotate(90deg)";
        } else {
          box.style.maxHeight = "0px";
          arrow.style.transform = "rotate(0deg)";
        }
      });
    }

    setupToggle('catToggle','categories');
    setupToggle('compToggle','complaints');
    setupToggle('numToggle','numbersBox'); 
    setupToggle('compProcessToggle','CompensationProcessBox'); 

    const sidebarSearch = document.getElementById('sidebarSearch');
    sidebarSearch.addEventListener('input', () => {
      const query = sidebarSearch.value.toLowerCase();
      
      [...document.querySelectorAll('.cat, .comp, .num, .proc')].forEach(item => {
        item.style.display = item.innerText.toLowerCase().includes(query) ? 'block' : 'none';
      });
      
      [...document.querySelectorAll('.case-card, .product-card, .comp-table tbody tr')].forEach(item => {
          const textContent = item.textContent.toLowerCase();
          const shouldShow = textContent.includes(query);

          if (shouldShow) {
            item.style.display = ''; 
          } else {
            item.style.display = 'none';
          }
      });
    });
  
    function openModal(id) {
      document.getElementById(id).classList.add('show');
    }
    function closeModal(id) {
      document.getElementById(id).classList.remove('show');
    }
    window.onclick = function(event) {
      document.querySelectorAll('.modal').forEach(modal => {
        if (event.target === modal) {
          modal.classList.remove('show');
        }
      });
    };
</script>
</body>
</html>
